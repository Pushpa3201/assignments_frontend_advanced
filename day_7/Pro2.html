<html>
<head></head>
<body>
<h3>Asynchronous Programming in  JavaScript</h3>
	<hr/> 
    <input type="button" value="Show Data" id="b1" onclick="fn_show()" /> <br><br>
    <table  id="table1"  border="2"  width="500"  cellpadding="10" cellspacing="0">
        <tr>
            <th>ID</th>
            <th>Email</th>
            <th>First Name</th>
            <th>Last Name</th>
            <th>Avatar</th>
        </tr>
    </table>
    <img src="" alt="" id="img1" />
	 
	<script>
		  
		  function fn_show(){
            var tableObj = document.getElementById("table1");
            let url =  "https://reqres.in/api/users";
			var imgObj = document.getElementById("img1");

			fetch(url).then(  (response)  => 
			{ 
					response.json().then ((result) =>  
					{
                        for(let i=0; i<result.data.length; i++){
                                var  row1 =  tableObj.insertRow(-1);			
                                var  cell1 =  row1.insertCell(-1);
                                var  cell2 =  row1.insertCell(-1);
                                var  cell3 =  row1.insertCell(-1);
                                var  cell4 =  row1.insertCell(-1);
                                var  cell5 =  row1.insertCell(-1);
                                                        
                                cell1.innerHTML = result.data[i].id;						
                                cell2.innerHTML = result.data[i].email;						
                                cell3.innerHTML = result.data[i].first_name;	 
                                cell4.innerHTML = result.data[i].last_name;	 
                                cell5.innerHTML = "<img src="+result.data[i].avatar +" alt='image not available'/>";

                        }					
						
					});	 
			});

									
          }
		   
			
			 
		
	</script>	 
</body>
</html>